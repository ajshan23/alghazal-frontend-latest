import{r as c,ax as Y,c as N,j as e,ah as H}from"./index-BxO48E7J.js";import{m as he}from"./index-DPAMRK6r.js";import{ai as ve,H as be,ax as xe}from"./index-BvMts2N3.js";import{u as Ne,a as ge}from"./useControllableState-Z-hTdTNR.js";import{u as q,T as G}from"./index-CbDZljJP.js";import{u as Ce}from"./useUniqueId-B5ZH9nmF.js";import{u as je}from"./floating-ui.react-BI-9OMXT.js";import{C as Z}from"./CloseButton-C69hR3t8.js";import{I as Te}from"./Input-Bk_hBu-L.js";import{c as ye}from"./Skeleton-UhY8bWTz.js";import{a as Re,b as $e,c as Ie}from"./Progress-B54yMz__.js";import{B as Se}from"./Button-Cqs6OGDK.js";import{t as Fe,N as we}from"./toast-CyYsqkVZ.js";const{COMPLETE:Ee,PENDING:ke,IN_PROGRESS:Pe,ERROR:Le}=Y,Q=c.forwardRef((l,o)=>{const{className:m,children:t,vertical:a=!1,current:s=0,status:n=Pe,onChange:r,...C}=l,u=c.Children.count(t),v=he(t,(h,d)=>{const R={flexBasis:d<u-1?`${100/(u-1)}%`:void 0,maxWidth:d===u-1?`${100/u}%`:void 0},f={stepNumber:d+1,status:ke,style:a?void 0:R,isLast:d===u-1,vertical:a,onStepChange:r?()=>r(d):void 0,...h.props};return n===Le&&d===s-1&&(f.className=N("steps-item-error")),h.props.status||(d===s?(f.status=n,f.className=N(f.className,"steps-item-active")):d<s&&(f.status=Ee)),f});return e.jsx("div",{ref:o,className:N("steps",a&&"steps-vertical",m),...C,children:v})});Q.displayName="Steps";const{COMPLETE:M,PENDING:Oe,IN_PROGRESS:ee,ERROR:z}=Y,Ue={[M]:e.jsx(be,{}),[Oe]:null,[ee]:null,[z]:e.jsx(ve,{})},se=c.forwardRef((l,o)=>{const{className:m,customIcon:t,description:a,isLast:s,onStepChange:n,status:r,stepNumber:C,title:u,vertical:v,...h}=l,{themeColor:d,primaryColorLevel:R}=H(),f=`${d}-${R}`;let b=e.jsx("span",{children:Ue[r]??C});t&&(b=e.jsx("span",{children:t}));const $=N(`step-item step-item-${r}`,v&&"step-item-vertical",m),E=N("step-item-wrapper",n&&"step-clickable"),k=N(`step-item-icon step-item-icon-${r}`,r===M&&`bg-${f} text-white`,r===z&&"step-item-icon-error",r===ee&&`text-${f} dark:text-gray-100 border-${f} step-item-icon-current`),y=N("step-connect",u&&"ml-2.5 rtl:mr-2.5",v&&"step-connect-vertical",r===M?`bg-${f}`:"inactive"),S=N("step-item-title",r===z&&"step-item-title-error",n&&r!==z&&`hover:text-${f}`),T=()=>{n==null||n()};return e.jsxs("div",{className:$,...h,ref:o,role:"presentation",onClick:T,children:[e.jsxs("div",{className:E,children:[e.jsx("div",{className:k,children:b}),u&&e.jsxs("div",{className:"step-item-content",children:[u&&e.jsx("span",{className:S,children:u}),a&&v&&e.jsx("span",{className:"step-item-description",children:a})]})]}),!s&&e.jsx("div",{className:y})]})});se.displayName="StepItem";const De=Q;De.Item=se;const A=c.createContext({}),_e=A.Provider;A.Consumer;function J(){return c.useContext(A)}const te=c.forwardRef((l,o)=>{const{className:m,defaultValue:t,onChange:a,value:s,variant:n="underline",...r}=l,[C,u]=Ne({prop:s,onChange:a,defaultProp:t}),v=N("tabs",m);return e.jsx(_e,{value:{value:C,onValueChange:u,variant:n},children:e.jsx("div",{className:v,...r,ref:o})})});te.displayName="Tabs";const ae=c.forwardRef((l,o)=>{const{className:m,children:t,...a}=l,{variant:s}=J(),n=N("tab-list",`tab-list-${s}`,m);return e.jsx("div",{ref:o,role:"tablist",className:n,...a,children:t})});ae.displayName="TabList";const le=c.forwardRef((l,o)=>{const{value:m,disabled:t,className:a,icon:s,children:n,...r}=l,{value:C,onValueChange:u,variant:v}=J(),h=m===C,{themeColor:d,primaryColorLevel:R}=H(),f=ge(()=>{!h&&!t&&(u==null||u(m))}),b=`${d}-${R}`,$=N("tab-nav",`tab-nav-${v}`,h&&`tab-nav-active text-${b} dark:text-${d}-100`,h&&v==="underline"&&`border-${b}`,h&&v==="pill"&&`bg-${d}-50 dark:bg-${b} dark:text-gray-100`,t&&"tab-nav-disabled",!t&&!h&&`hover:text-${b} dark:hover:text-${d}-100`,a);return e.jsxs("div",{ref:o,className:$,role:"tab","aria-selected":h,tabIndex:0,onClick:f,onKeyDown:f,...r,children:[s&&e.jsx("div",{className:"tab-nav-icon",children:s}),n]})});le.displayName="TabNav";const ne=c.forwardRef((l,o)=>{const{value:m,children:t,className:a,...s}=l,n=J(),r=m===n.value,C=N("tab-content",r&&"tab-content-active",a);return e.jsx("div",{ref:o,role:"tabpanel",tabIndex:0,className:C,...s,children:r&&t})});ne.displayName="TabContent";const K=te;K.TabList=ae;K.TabNav=le;K.TabContent=ne;const re=c.forwardRef((l,o)=>{const{amPmPlaceholder:m="am",clearable:t=!1,className:a,defaultValue:s=[null,null],disabled:n=!1,format:r="24",id:C,invalid:u,name:v,onChange:h,prefix:d,seperator:R="~",showSeconds:f=!1,size:b,style:$,suffix:E=e.jsx(xe,{className:"text-lg"}),timeFieldPlaceholder:k="--",value:y,...S}=l,T=Ce(C),I=c.useRef(),L=c.useRef(),[j,F]=c.useState(y??s);q(()=>{typeof h=="function"&&h(j)},[j]),q(()=>{var g,U,D,_;y&&(((g=y[0])==null?void 0:g.getTime())!==((U=j[0])==null?void 0:U.getTime())||((D=y[1])==null?void 0:D.getTime())!==((_=j[1])==null?void 0:_.getTime()))&&F(y)},[y]);const V=()=>{var g;F([null,null]),(g=I.current)==null||g.focus()},O=t&&j?e.jsx(Z,{onClick:V}):e.jsx(e.Fragment,{children:E}),P={amPmPlaceholder:m,disabled:n,format:r,size:b,timeFieldPlaceholder:k,showSeconds:f};return e.jsx(Te,{asElement:"div",invalid:u,size:b,className:a,style:$,disabled:n,suffix:O,prefix:d,onClick:()=>{var g;(g=I.current)==null||g.focus()},...S,children:e.jsxs("div",{className:"time-input-wrapper",children:[e.jsx(G,{ref:je(I,o),unstyle:!0,value:j[0],name:v,nextRef:L,id:T,clearable:!1,suffix:null,onChange:g=>F([g,j[1]]),...P}),e.jsx("span",{className:"time-input-separator",children:R}),e.jsx(G,{ref:L,unstyle:!0,value:j[1],clearable:!1,suffix:null,onChange:g=>F([j[0],g]),...P})]})})});re.displayName="TimeInputRange";const ze=G;ze.TimeInputRange=re;const Ve=1e3,Be=l=>Math.round(l/Ve),B=({children:l})=>e.jsx("span",{className:"text-4xl",children:l}),ie=l=>{const{file:o,children:m}=l,{type:t,name:a,size:s}=o,n=()=>t.split("/")[0]==="image"?e.jsx("img",{className:"upload-file-image",src:URL.createObjectURL(o),alt:`file preview ${a}`}):t==="application/zip"?e.jsx(B,{children:e.jsx(Re,{})}):t==="application/pdf"?e.jsx(B,{children:e.jsx($e,{})}):e.jsx(B,{children:e.jsx(Ie,{})});return e.jsxs("div",{className:"upload-file",children:[e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"upload-file-thumbnail",children:n()}),e.jsxs("div",{className:"upload-file-info",children:[e.jsx("h6",{className:"upload-file-name",children:a}),e.jsxs("span",{className:"upload-file-size",children:[Be(s)," kb"]})]})]}),m]})};ie.displayName="UploadFileItem";const X=l=>Object.keys(l).map(o=>l[o]),Ge=async(l,o)=>{const t=await(await fetch(l)).blob();return new File([t],o,{type:t.type})},Me=c.forwardRef((l,o)=>{const{accept:m,beforeUpload:t,disabled:a=!1,draggable:s=!1,fileList:n=[],defaultFile:r=[],fileListClass:C,fileItemClass:u,multiple:v,onChange:h,onFileRemove:d,showList:R=!0,tip:f,uploadLimit:b,children:$,className:E,field:k,...y}=l,S=c.useRef(null),[T,I]=c.useState(n),[L,j]=c.useState(!1),{themeColor:F,primaryColorLevel:V}=H();c.useEffect(()=>{(async()=>{if(r.length>0&&T.length===0){const i=await Promise.all(r.map(async x=>{if(x.url)try{return await Ge(x.url,x.name)}catch(w){return console.error("Error loading file:",w),new File([],x.name)}return new File([],x.name)}));I(i)}})()},[r,T.length]),c.useEffect(()=>{JSON.stringify(T)!==JSON.stringify(n)&&I(n)},[JSON.stringify(n)]);const O=(p="")=>{Fe.push(e.jsx(we,{type:"danger",duration:2e3,children:p||"Upload Failed!"}),{placement:"top-center"})},P=(p,i)=>{if(p)for(const x of p)i.push(x);return i},g=p=>{let i=ye(T);return typeof b=="number"&&b!==0&&Object.keys(i).length>=b?(b===1&&(i.shift(),i=P(p,i)),X({...i})):(i=P(p,i),X({...i}))},U=p=>{const{files:i}=p.target;let x=!0;if(t){if(x=t(i,T),x===!1){O();return}if(typeof x=="string"&&x.length>0){O(x);return}}if(x){const w=g(i);I(w),h==null||h(w,T)}},D=p=>{const i=T.filter((x,w)=>w!==p);I(i),d==null||d(i)},_=p=>{var i;a||(i=S.current)==null||i.click(),p.stopPropagation()},oe=()=>!s&&!$?e.jsx(Se,{disabled:a,onClick:p=>p.preventDefault(),children:"Upload"}):s&&!$?e.jsx("span",{children:"Choose a file or drag and drop here"}):$,ce=c.useCallback(()=>{s&&j(!1)},[s]),de=c.useCallback(()=>{s&&!a&&j(!0)},[s,a]),pe=c.useCallback(()=>{s&&j(!1)},[s]),ue={onDragLeave:ce,onDragOver:de,onDrop:pe},W=`border-${F}-${V}`,me=N("upload",s&&"upload-draggable",s&&!a&&`hover:${W}`,s&&a&&"disabled",L&&W,E),fe=N("upload-input",s&&"draggable");return e.jsxs(e.Fragment,{children:[e.jsxs("div",{ref:o,className:me,...s?ue:{onClick:_},...y,children:[e.jsx("input",{ref:S,className:fe,type:"file",disabled:a,multiple:v,accept:m,title:"",value:"",onChange:U,...k}),oe()]}),f,R&&e.jsx("div",{className:N("upload-file-list",C),children:T.map((p,i)=>e.jsx(ie,{file:p,className:u,previewUrl:p.size>0?URL.createObjectURL(p):void 0,children:e.jsx(Z,{className:"upload-file-remove",onClick:()=>D(i)})},p.name+i))})]})});Me.displayName="Upload";export{Me as U};
