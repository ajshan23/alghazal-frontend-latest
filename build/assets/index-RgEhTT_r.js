import{r as F,a6 as C,j as s,a7 as y}from"./index-CYREFKZG.js";import{F as N,a as d}from"./FormItem-OC8YTe9a.js";import{B as c}from"./Button-Bw5pwASe.js";import{A as S}from"./Alert-Cc8BV9-e.js";import{P as l}from"./PasswordInput-DUfArmst.js";import{A as k}from"./ActionLink-DjqXkpCH.js";import{u as R}from"./useTimeOutMessage-qqgt6pLG.js";import{F as A,a as I,b as p}from"./formik.esm-X9M2E6C8.js";import{c as M,a as f,d as B}from"./index.esm-BYfh2iLX.js";import"./index-DMrbObHh.js";import"./proxy-B3X64ZJl.js";import"./StatusIcon-D8Q-TRIc.js";import"./index-DxPdCp1M.js";import"./CloseButton-DcT37PEO.js";import"./Input-CBtIewGG.js";import"./Views-CidN8ifI.js";import"./isNil-CbtC8I9H.js";import"./get-t94M6iYX.js";import"./toString-BZ5q91vB.js";import"./useThemeClass-C1UfJ9xM.js";import"./cloneDeep-DJN0yfLA.js";import"./hoist-non-react-statics.cjs-D7IwvU7q.js";const Y=M().shape({password:f().required("Please enter your password"),confirmPassword:f().oneOf([B("password")],"Your passwords do not match")}),$=w=>{const{disableSubmit:u=!1,className:h,signInUrl:x="/sign-in"}=w,[t,j]=F.useState(!1),[i,b]=R(),P=C(),g=async(r,e)=>{var n,m;const{password:a}=r;e(!0);try{(await y({password:a})).data&&(e(!1),j(!0))}catch(o){b(((m=(n=o==null?void 0:o.response)==null?void 0:n.data)==null?void 0:m.message)||o.toString()),e(!1)}},v=()=>{P("/sign-in")};return s.jsxs("div",{className:h,children:[s.jsx("div",{className:"mb-6",children:t?s.jsxs(s.Fragment,{children:[s.jsx("h3",{className:"mb-1",children:"Reset done"}),s.jsx("p",{children:"Your password has been successfully reset"})]}):s.jsxs(s.Fragment,{children:[s.jsx("h3",{className:"mb-1",children:"Set new password"}),s.jsx("p",{children:"Your new password must different to previos password"})]})}),i&&s.jsx(S,{showIcon:!0,className:"mb-4",type:"danger",children:i}),s.jsx(A,{initialValues:{password:"123Qwe1",confirmPassword:"123Qwe1"},validationSchema:Y,onSubmit:(r,{setSubmitting:e})=>{u?e(!1):g(r,e)},children:({touched:r,errors:e,isSubmitting:a})=>s.jsx(I,{children:s.jsxs(N,{children:[t?s.jsx(c,{block:!0,variant:"solid",type:"button",onClick:v,children:"Continue"}):s.jsxs(s.Fragment,{children:[s.jsx(d,{label:"Password",invalid:e.password&&r.password,errorMessage:e.password,children:s.jsx(p,{autoComplete:"off",name:"password",placeholder:"Password",component:l})}),s.jsx(d,{label:"Confirm Password",invalid:e.confirmPassword&&r.confirmPassword,errorMessage:e.confirmPassword,children:s.jsx(p,{autoComplete:"off",name:"confirmPassword",placeholder:"Confirm Password",component:l})}),s.jsx(c,{block:!0,loading:a,variant:"solid",type:"submit",children:a?"Submiting...":"Submit"})]}),s.jsxs("div",{className:"mt-4 text-center",children:[s.jsx("span",{children:"Back to "}),s.jsx(k,{to:x,children:"Sign in"})]})]})})})]})},as=()=>s.jsx($,{disableSubmit:!1});export{as as default};
