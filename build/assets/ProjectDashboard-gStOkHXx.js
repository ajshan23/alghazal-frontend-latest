import{a9 as j,aa as u,ac as h,j as e,r as n,m as g,v as f,a as b,a3 as v,ae as y}from"./index-BxO48E7J.js";import{a as N,E as D,U as C}from"./EllipsisButton-KNK5y2yb.js";import{C as c}from"./Card-BkELxnQG.js";import{B as k}from"./Button-Cqs6OGDK.js";import{D as o}from"./index-DPk-9BZv.js";import{J as w,K as P,E,L as A}from"./index-BvMts2N3.js";import{P as S}from"./Progress-B54yMz__.js";import"./index-D65Or3wn.js";import"./floating-ui.react-BI-9OMXT.js";import"./floating-ui.dom-B_iSk-nO.js";import"./index-C5P6Zpzc.js";import"./proxy-Cgq6JklI.js";import"./context-BpXqFl7R.js";import"./toString-DS3ZSNMT.js";import"./Views-DNvf1mRE.js";import"./useUniqueId-B5ZH9nmF.js";import"./chainedFunction-BxZSneMW.js";const m="projectDashboard",l=j(m+"/getProjectDashboardData",async()=>(await N()).data),T={loading:!0,dashboardData:{}},H=u({name:`${m}/state`,initialState:T,reducers:{},extraReducers:s=>{s.addCase(l.fulfilled,(a,t)=>{a.dashboardData=t.payload,a.loading=!1}).addCase(l.pending,a=>{a.loading=!0})}}),R=H.reducer,L=h({data:R}),M=({userName:s,taskCount:a})=>e.jsxs("div",{children:[e.jsxs("h4",{className:"mb-1",children:["Hello, ",s,"!"]}),e.jsxs("p",{children:["You have ",a," tasks on hand."]})]}),B=[{label:"Add Flag",value:"addFlag",icon:e.jsx(w,{})},{label:"Move",value:"move",icon:e.jsx(P,{})},{label:"Setting",value:"projectSetting",icon:e.jsx(E,{})}],I=()=>e.jsx(o,{placement:"bottom-end",renderTitle:e.jsx(D,{}),children:B.map(s=>e.jsxs(o.Item,{eventKey:s.value,children:[e.jsx("span",{className:"text-lg",children:s.icon}),e.jsx("span",{className:"ml-2 rtl:mr-2",children:s.label})]},s.value))}),J=({members:s})=>e.jsx(C,{users:s}),O=({progression:s})=>{const a=n.useMemo(()=>s>70?{color:"green-500"}:s<40?{color:"red-500"}:{},[s]);return e.jsx(S,{size:"sm",percent:s,...a})},z=({data:s,cardBorder:a})=>{const{name:t,totalTask:r,completedTask:i,progression:d,member:p,category:x}=s;return e.jsx("div",{className:"mb-4",children:e.jsx(c,{bordered:a,children:e.jsxs("div",{className:"grid gap-x-4 grid-cols-12",children:[e.jsx("div",{className:"my-1 sm:my-0 col-span-12 sm:col-span-2 md:col-span-3 lg:col-span-3 md:flex md:items-center",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("h6",{className:"font-bold",children:e.jsx(g,{to:"/app/project/scrum-board",children:t})}),e.jsx("span",{children:x})]})}),e.jsx("div",{className:"my-1 sm:my-0 col-span-12 sm:col-span-2 md:col-span-2 lg:col-span-2 md:flex md:items-center md:justify-end",children:e.jsxs("div",{className:"inline-flex items-center px-2 py-1 border border-gray-300 rounded-full",children:[e.jsx(A,{className:"text-base"}),e.jsxs("span",{className:"ml-1 rtl:mr-1 whitespace-nowrap",children:[i," / ",r]})]})}),e.jsx("div",{className:"my-1 sm:my-0 col-span-12 md:col-span-2 lg:col-span-3 md:flex md:items-center",children:e.jsx(O,{progression:d})}),e.jsx("div",{className:"my-1 sm:my-0 col-span-12 md:col-span-3 lg:col-span-3 md:flex md:items-center",children:e.jsx(J,{members:p})}),e.jsx("div",{className:"my-1 sm:my-0 col-span-12 sm:col-span-1 flex md:items-center justify-end",children:e.jsx(I,{})})]})})})},F=({data:s=[]})=>{const a=f(),t=()=>{a("/app/project/project-list")};return e.jsxs(c,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h4",{children:"Projectssssss"}),e.jsx(k,{size:"sm",onClick:t,children:"View All"})]}),s.map(r=>e.jsx(z,{cardBorder:!0,data:r},r.id))]})};y("projectDashboard",L);const G={dashboardData:{userName:"Raja",taskCount:12,projectsData:[{id:"1",name:"Website Redesign",category:"Web Development",desc:"Complete redesign of company website",attachmentCount:12,totalTask:45,completedTask:28,progression:62,dayleft:14,status:"in progress",member:[{id:"1",name:"John Doe",email:"john@example.com",img:"/img/avatars/thumb-1.jpg"},{id:"2",name:"Jane Smith",email:"jane@example.com",img:"/img/avatars/thumb-2.jpg"}]},{id:"2",name:"Mobile App",category:"Mobile Development",desc:"Development of company mobile application",attachmentCount:8,totalTask:32,completedTask:12,progression:38,dayleft:21,status:"in progress",member:[{id:"3",name:"Robert Johnson",email:"robert@example.com",img:"/img/avatars/thumb-3.jpg"},{id:"4",name:"Emily Davis",email:"emily@example.com",img:"/img/avatars/thumb-4.jpg"}]}]}},le=()=>{b();const s=G.dashboardData,a=!1;return n.useEffect(()=>{},[]),e.jsx("div",{className:"flex flex-col gap-4 h-full",children:e.jsxs(v,{loading:a,children:[e.jsx(M,{userName:s==null?void 0:s.userName,taskCount:s==null?void 0:s.taskCount}),e.jsx("div",{className:"flex flex-col xl:flex-row gap-4",children:e.jsx("div",{className:"flex flex-col gap-4 flex-auto",children:e.jsx(F,{data:s==null?void 0:s.projectsData})})})]})})};export{le as default};
